# è‡ªåŠ¨åŒ–æµ‹è¯•ç³»ç»Ÿä½¿ç”¨æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æœ¬é¡¹ç›®å·²ç»å»ºç«‹äº†ä¸€å¥—å®Œæ•´çš„è‡ªåŠ¨åŒ–æµ‹è¯•ç³»ç»Ÿï¼Œç”¨äºéªŒè¯ Schema è½¬æ¢ã€Agent æ¨¡æ‹Ÿå’Œç³»ç»Ÿæ€§èƒ½ã€‚

## ğŸ¯ æµ‹è¯•ç±»å‹

### 1. Schema è½¬æ¢æµ‹è¯•
éªŒè¯ç®€åŒ– Schema åˆ°å®Œæ•´ Schema çš„è½¬æ¢é€»è¾‘æ˜¯å¦æ­£ç¡®ã€‚

**æµ‹è¯•å†…å®¹**ï¼š
- âœ… Hero Block è½¬æ¢
- âœ… Markdown Block è½¬æ¢
- âœ… Flashcard Block è½¬æ¢
- âœ… CardGrid Block è½¬æ¢
- âœ… Timeline Block è½¬æ¢
- âœ… Cloze Block è½¬æ¢
- âœ… Metadata ä¼ é€’éªŒè¯
- âœ… é”™è¯¯å¤„ç†

### 2. Agent æ¨¡æ‹Ÿæµ‹è¯•
æ¨¡æ‹Ÿä¸åŒç±»å‹ Agent ç”Ÿæˆçš„å†…å®¹å¹¶è¿›è¡Œç«¯åˆ°ç«¯éªŒè¯ã€‚

**æµ‹è¯•å†…å®¹**ï¼š
- ğŸ¤– çŸ¥è¯†è®²è§£ Agent (Knowledge Agent)
- ğŸ’» ä»£ç ç»ƒä¹  Agent (Code Agent)
- ğŸ“ æµ‹éªŒç”Ÿæˆ Agent (Quiz Agent)
- ğŸ”„ ç«¯åˆ°ç«¯è½¬æ¢éªŒè¯

### 3. æ€§èƒ½åŸºå‡†æµ‹è¯•
æµ‹è¯• Schema è½¬æ¢çš„æ€§èƒ½è¡¨ç°ã€‚

**æµ‹è¯•æŒ‡æ ‡**ï¼š
- âš¡ å•æ¬¡è½¬æ¢è€—æ—¶
- ğŸ“Š æ‰¹é‡è½¬æ¢ååé‡
- ğŸ¯ æ€§èƒ½è¯„çº§ï¼ˆä¼˜ç§€/è‰¯å¥½/ä¸€èˆ¬/éœ€ä¼˜åŒ–ï¼‰

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### æ–¹æ³•ä¸€ï¼šé€šè¿‡æµè§ˆå™¨æ§åˆ¶å°ï¼ˆæ¨èï¼‰

æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰ï¼Œåœ¨æ§åˆ¶å°ä¸­è¿è¡Œï¼š

```javascript
// è¿è¡Œæ‰€æœ‰æµ‹è¯•
testAutomation.runAllTests()

// æ¨¡æ‹Ÿ Agent å·¥ä½œæµ
testAutomation.simulateAgentWorkflow()

// æ€§èƒ½åŸºå‡†æµ‹è¯•
testAutomation.benchmarkConversion()

// ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
testAutomation.generateTestReport()
```

### æ–¹æ³•äºŒï¼šå‘½ä»¤è¡Œæµ‹è¯•ï¼ˆå¼€å‘ä¸­ï¼‰

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡Œç‰¹å®šæµ‹è¯•å¥—ä»¶
npm run test:schema
npm run test:agents
npm run test:performance

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage

# ç›‘è§†æ¨¡å¼
npm run test:watch
```

## ğŸ“ æµ‹è¯•æ–‡ä»¶ç»“æ„

```
src/lib/
â”œâ”€â”€ test-utils.ts              # æµ‹è¯•å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ mockAgentGeneration()  # Agent æ¨¡æ‹Ÿç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ validateBlockStructure() # Block ç»“æ„éªŒè¯
â”‚   â”œâ”€â”€ PerformanceTimer       # æ€§èƒ½è®¡æ—¶å™¨
â”‚   â””â”€â”€ TestReportGenerator    # æµ‹è¯•æŠ¥å‘Šç”Ÿæˆå™¨
â”‚
â”œâ”€â”€ test-automation.ts         # è‡ªåŠ¨åŒ–æµ‹è¯•å¥—ä»¶
â”‚   â”œâ”€â”€ runAllTests()          # è¿è¡Œæ‰€æœ‰æµ‹è¯•
â”‚   â”œâ”€â”€ simulateAgentWorkflow() # Agent å·¥ä½œæµæ¨¡æ‹Ÿ
â”‚   â””â”€â”€ benchmarkConversion()  # æ€§èƒ½åŸºå‡†æµ‹è¯•
â”‚
â”œâ”€â”€ schema-converter.test.ts   # Schema è½¬æ¢å•å…ƒæµ‹è¯•
â””â”€â”€ agent-mock.test.ts         # Agent æ¨¡æ‹Ÿæµ‹è¯•
```

## ğŸ¨ Test Runner UI

è®¿é—®è·¯å¾„ï¼š`/tests`

**åŠŸèƒ½ç‰¹æ€§**ï¼š
- ğŸ¯ é€‰æ‹©æµ‹è¯•ç±»å‹
- ğŸ“Š å®æ—¶è¾“å‡ºå±•ç¤º
- ğŸ“¥ æµ‹è¯•æŠ¥å‘Šä¸‹è½½
- ğŸ§¹ æ¸…ç©ºè¾“å‡º
- â±ï¸  æµ‹è¯•è€—æ—¶ç»Ÿè®¡

## ğŸ“Š æµ‹è¯•æŠ¥å‘Šæ ¼å¼

```json
{
  "timestamp": "2025-01-18T12:00:00.000Z",
  "suite": "Schema è½¬æ¢",
  "results": [
    {
      "name": "åŸºæœ¬é¡µé¢è½¬æ¢",
      "status": "pass",
      "duration": "5ms",
      "error": null
    }
  ],
  "summary": {
    "total": 10,
    "passed": 10,
    "failed": 0,
    "duration": "45ms"
  }
}
```

## ğŸ” æµ‹è¯•è¦†ç›–èŒƒå›´

### Schema Converter æµ‹è¯•
- âœ… é¡µé¢ç»“æ„è½¬æ¢
- âœ… æ‰€æœ‰ Block ç±»å‹è½¬æ¢
- âœ… Metadata å­—æ®µä¼ é€’
- âœ… é”™è¯¯å¤„ç†
- âœ… è¾¹ç•Œæƒ…å†µ

### Agent Mock æµ‹è¯•
- âœ… çŸ¥è¯†è®²è§£ Agent ç”ŸæˆéªŒè¯
- âœ… ä»£ç ç»ƒä¹  Agent ç”ŸæˆéªŒè¯
- âœ… æµ‹éªŒç”Ÿæˆ Agent ç”ŸæˆéªŒè¯
- âœ… ç«¯åˆ°ç«¯è½¬æ¢æµç¨‹
- âœ… æ ¼å¼æ­£ç¡®æ€§æ£€æŸ¥

### æ€§èƒ½æµ‹è¯•
- âœ… å•æ¬¡è½¬æ¢æ€§èƒ½ï¼ˆ< 50ms ä¸ºé€šè¿‡ï¼‰
- âœ… æ‰¹é‡è½¬æ¢æ€§èƒ½ï¼ˆ100æ¬¡è¿­ä»£ï¼‰
- âœ… ååé‡è®¡ç®—ï¼ˆé¡µ/ç§’ï¼‰

## ğŸ¯ æ€§èƒ½åŸºå‡†

**æ€§èƒ½è¯„çº§æ ‡å‡†**ï¼š
- âš¡ **ä¼˜ç§€**ï¼š< 10ms
- ğŸ‘ **è‰¯å¥½**ï¼š10-50ms
- ğŸ˜ **ä¸€èˆ¬**ï¼š50-100ms
- âš ï¸ **éœ€ä¼˜åŒ–**ï¼š> 100ms

## ğŸ› è°ƒè¯•æŠ€å·§

### æŸ¥çœ‹è¯¦ç»†è¾“å‡º
```javascript
// åœ¨æµ‹è¯•è¿è¡Œæ—¶ï¼Œæ‰€æœ‰ console.log éƒ½ä¼šè¢«æ•è·
// åŒæ—¶ä¹Ÿä¼šè¾“å‡ºåˆ°æµè§ˆå™¨æ§åˆ¶å°
```

### éªŒè¯ç‰¹å®š Block
```javascript
import { SchemaConverter } from './lib/schema-converter';
import { mockAgentGeneration } from './lib/test-utils';

const testData = mockAgentGeneration('knowledge');
const converted = SchemaConverter.convertPage(testData);
console.log(converted);
```

### æ€§èƒ½åˆ†æ
```javascript
// è¿è¡Œæ€§èƒ½æµ‹è¯•æŸ¥çœ‹è¯¦ç»†æŒ‡æ ‡
testAutomation.benchmarkConversion();
```

## ğŸ“ˆ æŒç»­æ”¹è¿›

### å·²å®ç°
- âœ… åŸºç¡€æµ‹è¯•æ¡†æ¶
- âœ… Agent æ¨¡æ‹Ÿç”Ÿæˆ
- âœ… Schema è½¬æ¢æµ‹è¯•
- âœ… æ€§èƒ½åŸºå‡†æµ‹è¯•
- âœ… Web UI æµ‹è¯•è¿è¡Œå™¨
- âœ… æµ‹è¯•æŠ¥å‘Šç”Ÿæˆ

### å¾…ä¼˜åŒ–
- ğŸ”„ çœŸå® LLM é›†æˆæµ‹è¯•
- ğŸ”„ æ›´å¤šè¾¹ç•Œæƒ…å†µè¦†ç›–
- ğŸ”„ è§†è§‰å›å½’æµ‹è¯•
- ğŸ”„ E2E æµè§ˆå™¨è‡ªåŠ¨åŒ–

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ·»åŠ æ–°æµ‹è¯•æ—¶ï¼š

1. åœ¨ `test-utils.ts` ä¸­æ·»åŠ è¾…åŠ©å‡½æ•°
2. åœ¨ç›¸åº”çš„ `.test.ts` æ–‡ä»¶ä¸­æ·»åŠ æµ‹è¯•ç”¨ä¾‹
3. åœ¨ `test-automation.ts` ä¸­é›†æˆåˆ°æµ‹è¯•å¥—ä»¶
4. è¿è¡Œæµ‹è¯•éªŒè¯é€šè¿‡
5. æ›´æ–°æ–‡æ¡£

## ğŸ“ é—®é¢˜åé¦ˆ

å¦‚å‘ç°æµ‹è¯•é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. æµ‹è¯•æ•°æ®æ˜¯å¦æ­£ç¡®
2. Schema å®šä¹‰æ˜¯å¦æ›´æ–°
3. è½¬æ¢é€»è¾‘æ˜¯å¦ä¿®æ”¹
4. æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

---

**ç”Ÿæˆæ—¶é—´**ï¼š2025-01-18
**ç‰ˆæœ¬**ï¼š1.0.0
**ç»´æŠ¤è€…**ï¼šClaude Code Assistant
