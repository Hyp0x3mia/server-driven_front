# ğŸ® CodePlayground ç»„ä»¶ä½¿ç”¨æ–‡æ¡£

## âœ… ç»„ä»¶å·²å®Œæˆåˆ›å»º

å…¨æ–°çš„ **CodePlayground** äº¤äº’å¼ç»„ä»¶å·²æˆåŠŸåˆ›å»ºå¹¶æ³¨å†Œåˆ°ç³»ç»Ÿä¸­ï¼

### ğŸ“¦ ç»„ä»¶ä½ç½®
- **æ–‡ä»¶**: `src/components/blocks/CodePlayground.tsx`
- **ç±»å‹å®šä¹‰**: `src/renderer/registry.tsx` (å·²æ·»åŠ  `CodePlaygroundBlock`)
- **æ³¨å†Œ**: `registry.CodePlayground` âœ…

---

## ğŸ¯ ä¸¤ç§äº¤äº’æ¨¡å¼

### æ¨¡å¼ A: Token åˆ†è¯æ¸¸ä¹åœº (`tokenizer`)

**ç”¨é€”**: æ¼”ç¤º NLP å¦‚ä½•å°†æ–‡æœ¬æ‹†åˆ†ä¸º Token

**åŠŸèƒ½ç‰¹æ€§**:
- âœ… æ–‡æœ¬è¾“å…¥æ¡†ï¼ˆæ”¯æŒè‡ªå®šä¹‰æ–‡æœ¬ï¼‰
- âœ… å®æ—¶ Tokenizationï¼ˆæŒ‰ç©ºæ ¼å’Œæ ‡ç‚¹ç¬¦å·åˆ†å‰²ï¼‰
- âœ… 4è‰²å¾ªç¯æ˜¾ç¤ºï¼ˆè“/ç»¿/ç´«/æ©™ï¼‰
- âœ… æ¯ä¸ªæ˜¾ç¤ºæ¨¡æ‹Ÿ Token IDï¼ˆåå…­è¿›åˆ¶ Hashï¼‰
- âœ… ç»Ÿè®¡ä¿¡æ¯ï¼šToken æ€»æ•°ã€æœ‰æ•ˆè¯æ•°ã€å¹³å‡é•¿åº¦
- âœ… Hover æ•ˆæœï¼šæ˜¾ç¤º Token ç´¢å¼•
- âœ… å¤åˆ¶ JSON åŠŸèƒ½

**UI å¸ƒå±€**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ è¾“å…¥æ–‡æœ¬          [é‡ç½®]          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Artificial Intelligence...     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Token åºåˆ—            (12 tokens)    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚Arti â”‚ â”‚fici â”‚ â”‚Inte â”‚ â”‚lli. â”‚    â”‚
â”‚ â”‚ID:1Aâ”‚ â”‚ID:2Bâ”‚ â”‚ID:3Câ”‚ â”‚ID:4Dâ”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  12    â”‚    10    â”‚    5.2          â”‚
â”‚ Tokens â”‚ æœ‰æ•ˆè¯  â”‚ å¹³å‡é•¿åº¦         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### æ¨¡å¼ B: è¶…å‚æ•°è°ƒä¼˜æ¼”ç¤º (`hyperparameter`)

**ç”¨é€”**: å®æ—¶è§‚å¯Ÿè¶…å‚æ•°å¦‚ä½•å½±å“æ¨¡å‹è®­ç»ƒ

**åŠŸèƒ½ç‰¹æ€§**:
- âœ… Python ä»£ç æ˜¾ç¤ºï¼ˆåŠ¨æ€é«˜äº®å‚æ•°ï¼‰
- âœ… Learning Rate æ»‘å—ï¼ˆ0.001 - 0.1ï¼‰
- âœ… Momentum æ»‘å—ï¼ˆ0.0 - 0.9ï¼‰
- âœ… å®æ—¶ SVG Loss æ›²çº¿ç”Ÿæˆ
- âœ… ç®—æ³•é€»è¾‘ï¼š
  - LR è¶Šå¤§ â†’ ä¸‹é™å¿«ä½†æ³¢åŠ¨å¤§
  - Momentum è¶Šå¤§ â†’ æ›²çº¿å¹³æ»‘
- âœ… å‚æ•°è¯´æ˜å¡ç‰‡

**UI å¸ƒå±€**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ PyTorch ä¼˜åŒ–å™¨é…ç½®                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ optimizer = torch.optim.SGD(           â”‚  â”‚
â”‚ â”‚   model.parameters(),                  â”‚  â”‚
â”‚ â”‚   lr=0.010,          â† ç»¿è‰²é«˜äº®       â”‚  â”‚
â”‚ â”‚   momentum=0.5        â† ç´«è‰²é«˜äº®       â”‚  â”‚
â”‚ â”‚ )                                       â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âš™ï¸ è¶…å‚æ•°è°ƒä¼˜       â”‚ ğŸ“Š Loss Curve          â”‚
â”‚ Learning Rate       â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ [â”â”â”â—â”â”â”] 0.010    â”‚ â”‚    â•±â•²            â”‚   â”‚
â”‚ 0.001       0.1     â”‚ â”‚   â•±  â•²   â•±â•²      â”‚   â”‚
â”‚                     â”‚ â”‚  â•±    â•² â•±  â•²    â”‚   â”‚
â”‚ Momentum            â”‚ â”‚ â•±      â•²      â•²  â”‚   â”‚
â”‚ [â”â”â”â”â”â—â”] 0.5      â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚ 0.0       0.9       â”‚   é«˜æ³¢åŠ¨=LRè¿‡å¤§        â”‚
â”‚                     â”‚   å¹³æ»‘=Momentumé«˜      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ LR  æ§åˆ¶å‚æ•°æ›´æ–°æ­¥é•¿ï¼Œå½±å“æ”¶æ•›é€Ÿåº¦           â”‚
â”‚ Momentum åˆ©ç”¨å†å²æ¢¯åº¦ï¼Œå‡å°‘éœ‡è¡             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ ä½¿ç”¨æ–¹å¼

### 1. åœ¨ JSON Schema ä¸­ä½¿ç”¨

```json
{
  "type": "CodePlayground",
  "role": "interactive-demo",
  "title": "æˆ‘çš„äº¤äº’æ¼”ç¤º",
  "content": {
    "mode": "tokenizer",  // æˆ– "hyperparameter"
    "initialText": "è‡ªå®šä¹‰æ–‡æœ¬",  // å¯é€‰ï¼Œä»… tokenizer
    "codeTemplate": "ä»£ç æ¨¡æ¿"   // å¯é€‰ï¼Œä»… hyperparameter
  }
}
```

### 2. Tokenizer æ¨¡å¼ç¤ºä¾‹

```json
{
  "type": "CodePlayground",
  "content": {
    "mode": "tokenizer",
    "initialText": "AI transforms how we learn."
  }
}
```

**é»˜è®¤æ–‡æœ¬**: `"Artificial Intelligence is fascinating."`

### 3. Hyperparameter æ¨¡å¼ç¤ºä¾‹

```json
{
  "type": "CodePlayground",
  "content": {
    "mode": "hyperparameter",
    "codeTemplate": "optimizer = torch.optim.Adam(\n  model.parameters(),\n  lr={lr_value}\n)"
  }
}
```

**é»˜è®¤æ¨¡æ¿**:
```python
optimizer = torch.optim.SGD(
  model.parameters(),
  lr={lr_value},
  momentum={momentum_value}
)
```

---

## ğŸ¨ è§†è§‰é£æ ¼

### è®¾è®¡è¯­è¨€
- **èƒŒæ™¯**: `bg-[#0f172a]` (æ·±è‰² Slate-900)
- **è¾¹æ¡†**: `border-slate-700/50`
- **å­—ä½“**: `font-mono` (ç­‰å®½å­—ä½“)
- **é«˜äº®è‰²**:
  - Emerald (ç»¿è‰²) - LR å‚æ•°
  - Purple (ç´«è‰²) - Momentum å‚æ•°
  - Blue/Green/Orange - Token é¢œè‰²

### ç»„ä»¶ç»“æ„
```
CodePlayground
â”œâ”€â”€ Header (æ ‡é¢˜ + äº¤äº’å¼æ ‡ç­¾)
â”œâ”€â”€ Content Area
â”‚   â”œâ”€â”€ Tokenizer Mode
â”‚   â”‚   â”œâ”€â”€ Input Textarea
â”‚   â”‚   â”œâ”€â”€ Token Cards (æµå¼å¸ƒå±€)
â”‚   â”‚   â””â”€â”€ Statistics (3åˆ—)
â”‚   â””â”€â”€ Hyperparameter Mode
â”‚       â”œâ”€â”€ Code Display
â”‚       â”œâ”€â”€ Sliders (LR + Momentum)
â”‚       â”œâ”€â”€ SVG Loss Curve
â”‚       â””â”€â”€ Parameter Explanation
```

---

## ğŸ§ª æµ‹è¯•é¡µé¢

å·²åˆ›å»ºæµ‹è¯•é¡µé¢ï¼š`public/pages/code-playground-test.json`

**è®¿é—®æ–¹å¼**:
```
http://localhost:8080/#/page/code-playground-test
```

**é¡µé¢å†…å®¹**:
1. Hero ä»‹ç»
2. Markdown è¯´æ˜
3. **Token åˆ†è¯æ¼”ç¤º** (å®é™…å¯æ“ä½œ)
4. Markdown åŸç†è§£é‡Š
5. **è¶…å‚æ•°è°ƒä¼˜æ¼”ç¤º** (å®é™…å¯æ“ä½œ)
6. Markdown æœ€ä½³å®è·µ
7. CardGrid æ¦‚å¿µæ€»ç»“

---

## ğŸ“Š æŠ€æœ¯å®ç°

### Tokenization ç®—æ³•

```typescript
// ç®€å•çš„æ­£åˆ™åˆ†è¯
const words = text.split(/([\s,.!?;:()]+)/);

// Hash ç”Ÿæˆ Token ID
const hash = word.split('').reduce((acc, char) => {
  return ((acc << 5) - acc) + char.charCodeAt(0);
}, 0);

// 4è‰²å¾ªç¯
const colorClass = TOKEN_COLORS[index % 4];
```

### Loss æ›²çº¿ç”Ÿæˆ

```typescript
// æŒ‡æ•°è¡°å‡åŸºç¡€
let baseLoss = Math.exp(-3 * x);

// LR å½±å“ï¼šè¶Šå¤§æ³¢åŠ¨è¶Šå¤§
const lrEffect = (lr / 0.1) * 0.3 * Math.sin(20 * x);

// Momentum å½±å“ï¼šè¶Šå¤§è¶Šå¹³æ»‘
const noise = (1 - momentum) * 0.15 * Math.sin(30 * x);

const loss = baseLoss + lrEffect + noise;
```

### React Hooks ä½¿ç”¨

- `useState` - ç®¡ç†è¾“å…¥å€¼å’Œæ»‘å—çŠ¶æ€
- `useMemo` - ç¼“å­˜ Token åˆ—è¡¨å’Œ Loss æ›²çº¿è®¡ç®—
- `onChange` - å®æ—¶æ›´æ–°

---

## ğŸ”§ æ‰©å±•å»ºè®®

### çŸ­æœŸä¼˜åŒ–
1. **æ›´å¤š Tokenization ç­–ç•¥**
   - æ·»åŠ  BPE (Byte Pair Encoding) æ¨¡æ‹Ÿ
   - æ”¯æŒ WordPiece ç®—æ³•æ¼”ç¤º
   - æ·»åŠ ç‰¹æ®Š Token æ ‡è®°ï¼ˆ[CLS], [SEP]ï¼‰

2. **æ›´å¤šè¶…å‚æ•°**
   - Batch Sizeï¼ˆå½±å“æ›²çº¿å¹³æ»‘åº¦ï¼‰
   - Weight Decayï¼ˆL2 æ­£åˆ™åŒ–ï¼‰
   - Dropout Rateï¼ˆéšæœºå¤±æ´»ï¼‰

3. **å¯¼å‡ºåŠŸèƒ½**
   - ä¸‹è½½ Token åºåˆ—ä¸º CSV
   - å¤åˆ¶ Loss æ›²çº¿æ•°æ®
   - ç”Ÿæˆå‚æ•°é…ç½® JSON

### é•¿æœŸè§„åˆ’
1. **çœŸå®åç«¯é›†æˆ**
   - è¿æ¥å®é™… HuggingFace API
   - ä½¿ç”¨çœŸå® Tokenizer (BERT/GPT)
   - å®æ—¶è®­ç»ƒæ¼”ç¤ºï¼ˆWebGL åŠ é€Ÿï¼‰

2. **é«˜çº§å¯è§†åŒ–**
   - 3D Loss æ›²é¢å›¾
   - æ³¨æ„åŠ›æƒé‡å¯è§†åŒ–
   - æ¢¯åº¦æµåŠ¨ç”»

3. **æ•™å­¦åœºæ™¯**
   - é¢„è®¾å¤šä¸ªç»å…¸ç¤ºä¾‹
   - åˆ†æ­¥éª¤å¼•å¯¼æ•™ç¨‹
   - äº’åŠ¨æµ‹éªŒ

---

## âœ… éªŒè¯æ¸…å•

- [x] ç»„ä»¶æ–‡ä»¶åˆ›å»º
- [x] ç±»å‹å®šä¹‰æ·»åŠ 
- [x] Adapter å®ç°
- [x] Registry æ³¨å†Œ
- [x] æ„å»ºæˆåŠŸéªŒè¯
- [x] æµ‹è¯•é¡µé¢åˆ›å»º
- [x] TypeScript ç±»å‹æ£€æŸ¥é€šè¿‡
- [x] ä¸¤ç§æ¨¡å¼åŠŸèƒ½å®Œæ•´
- [x] UI é£æ ¼ç»Ÿä¸€

---

## ğŸ‰ ç«‹å³ä½“éªŒ

```bash
# 1. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# 2. è®¿é—®æµ‹è¯•é¡µé¢
open http://localhost:8080/#/page/code-playground-test

# 3. å°è¯•äº¤äº’
# - ä¿®æ”¹ Tokenizer è¾“å…¥æ¡†æ–‡æœ¬
# - æ‹–åŠ¨ Hyperparameter æ»‘å—
# - è§‚å¯Ÿ Loss æ›²çº¿å˜åŒ–
```

**äº«å—çº¯å‰ç«¯çš„ AI äº¤äº’ä½“éªŒï¼** ğŸš€
